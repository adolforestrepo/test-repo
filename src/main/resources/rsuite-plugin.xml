<rsuite-plugin id="astd-plugin"
	dependsOn="atd-main-doctypes, rsuite-container-wizard-plugin">

	<lifecycleListener
		type="org.astd.rsuite.lifecycle.ProjectPluginLifecycleListener" />


	<extensionProvider id="rsuite.ManagedObjectAdvisor">

	</extensionProvider>

	<extensionProvider id="rsuite.EventBus">
		<!-- no event handlers yet -->
	</extensionProvider>

	<extensionProvider id="rsuite.WebService">

		<staticWebService root="/astd-plugin" path="/WebContent" />
		
		<remoteApiDefinition id="atd:webservice.canodetoditamap" handler="org.astd.rsuite.webservices.CaNodeToDitaMapWebService"/>
		<remoteApiDefinition id="atd:webservice.docxToXml" handler="com.reallysi.rsuite.webservice.ATDDocx2XmlWebService" />
		<remoteApiDefinition id="atd:webservice.RunDitaOTWebService" handler="com.reallysi.rsuite.webservice.RunDitaOTWebService" />

		<!-- Web services implemented for AMA, alphabetized. -->
		<remoteApiDefinition id="astd.main.webservice.rsuite5.AddRoleToUser"
			handler="org.astd.rsuite.webservices.rsuite5.AddRoleToUserWebService"
			label="Grant a role to a user; fills gap in groovy API in v5..." />
		<remoteApiDefinition id="astd.main.webservice.AdjustDynamicConfiguration"
			handler="org.astd.rsuite.webservices.AdjustDynamicConfigurationWebService"
			label="Adjust Dynamic Configuration" />
		<remoteApiDefinition
			id="astd.main.webservice.DeleteContainerAndReferencedContent"
			handler="org.astd.rsuite.webservices.DeleteContainerAndReferencedContentWebService"
			label="Delete Container" />
		<remoteApiDefinition id="astd.main.webservice.GetMetadataAmp"
			handler="org.astd.rsuite.webservices.GetMetadataAmpWebService" label="Get Metadata (Amp User)" />
		<remoteApiDefinition id="astd.main.webservice.KillAllWorkflows"
			handler="org.astd.rsuite.webservices.KillAllWorkflowsWebService"
			label="Kill all workflows" />
		<remoteApiDefinition id="astd.main.webservice.ListAllWorkflows"
			handler="org.astd.rsuite.webservices.ListAllWorkflowsWebService"
			label="List all workflows" />
		<remoteApiDefinition
			id="astd.main.webservice.rsuite5.PerformProductSearchByProductNumber"
			handler="org.astd.rsuite.webservices.rsuite5.PerformProductSearchByProductNumberWebService"
			label="Given a product number return search result; fills gap in groovy API in v5..." />
		<remoteApiDefinition id="astd.main.webservice.SetTemporaryCptCode"
			handler="org.astd.rsuite.webservices.SetTemporaryCptCodeWebService"
			description="Web service for setting a temporary CPT code." />
		<remoteApiDefinition id="astd.main.webservice.StartDitaOtWorkflow"
			handler="org.astd.rsuite.webservices.StartDitaOtWorkflowWebService"
			description="Web service for starting a DITA-OT workflow." />
		<remoteApiDefinition id="astd.main.webservice.TestTransform"
			handler="org.astd.rsuite.webservices.TestTransformWebService" label="Test Transform" />

		<remoteApiDefinition id="atd.ConvertCanodeToCA"
			handler="org.astd.rsuite.webservices.rsuite5.ConvertCanodeToCA"
			label="Converts CAnodes to CA containers." />

	</extensionProvider>

	<extensionProvider id="rsuite.ContextMenu">

		<contextMenuRuleSet
			name="rsuiteditasupport.contextmenuitem.docx2dita.transform">
			<menuItemList>
				<menuItem id="rsuite:createDitaMap">
					<actionName>rsuite:invokeWebservice</actionName>
					<label>Create DITA map from hierarchy</label>
					<property name="remoteApiName" value="atd:webservice.canodetoditamap" />
					<property name="serviceParams.xsltUri" value="rsuite:/res/plugin/astd-plugin/xslt/canode2map/canode2map_shell.xsl" />
					<property name="showProgressMeter" value="true" />
					<property name="timeout" value="0" />
					<property name="rsuite:group" value="dita" />
					<property name="rsuite:icon" value="generateXml" />
				</menuItem>
			</menuItemList>
			<ruleList>
				<rule>include nodeType ca,canode,folder</rule>
			</ruleList>
		</contextMenuRuleSet>

		<contextMenuRuleSet
			name="rsuiteditasupport.contextmenuitem.docx2dita.transform">
			<menuItemList>
				<menuItem id="rsuite:wordToDita">
					<actionName>rsuite:invokeWebservice</actionName>
					<label>Create XML from Word</label>
					<property name="remoteApiName" value="atd:webservice.docxToXml" />
					<property name="showProgressMeter" value="true" />
					<property name="rsuite:group" value="dita" />
					<property name="rsuite:icon" value="generateXml" />
				</menuItem>
			</menuItemList>
			<ruleList>
				<rule>include nodeType ca,canode,folder</rule>
			</ruleList>
		</contextMenuRuleSet>

		<contextMenuRuleSet name="ditaOutputActions">
			<menuItemList>
				<menuItem id="rsuite.ditaToPdfService">
					<actionName>rsuite:invokeWebservice</actionName>
					<label>PDF</label>
					<property name="rsuite:icon" value="pdf" />
					<property name="remoteApiName" value="atd:webservice.RunDitaOTWebService" />
					<property name="serviceParams.transtype" value="pdf2" />
					<property name="serviceParams.openToolkitName" value="v185" />
					<property name="showProgressMeter" value="true" />
					<property name="timeout" value="0" />
					<property name="rsuite:path" value="Create output" />
					<property name="rsuite:group" value="dita" />
				</menuItem>
				<menuItem id="rsuite:ditaToIndesign">
					<actionName>rsuite:invokeWebservice</actionName>
					<property name="rsuite:icon" value="adobeIncopy" />
					<label>InDesign (InCopy)</label>
					<property name="remoteApiName" value="atd:webservice.RunDitaOTWebService" />
					<property name="serviceParams.transtype" value="astd-indesign"/>
					<property name="serviceParams.openToolkitName" value="v185" />
					<property name="showProgressMeter" value="true" />
					<property name="timeout" value="0" />
					<property name="rsuite:path" value="Create output" />
					<property name="rsuite:group" value="dita" />
					<property name="serviceParams.outputExtension" value="icml" />
					<property name="serviceParams.attachingFolderName" value="ICML" />
				</menuItem>
				<menuItem id="rsuite.ditaToXhtmlService">
					<actionName>rsuite:invokeWebservice</actionName>
					<property name="rsuite:icon" value="html" />
					<label>XHTML</label>
					<property name="remoteApiName" value="atd:webservice.RunDitaOTWebService" />
					<property name="serviceParams.transtype" value="xhtml" />
					<property name="serviceParams.openToolkitName" value="v185" />
					<property name="serviceParams.zipOutput" value="true" />
					<property name="showProgressMeter" value="true" />
					<property name="timeout" value="0" />
					<property name="rsuite:path" value="Create output" />
					<property name="rsuite:group" value="dita" />
				</menuItem>
				<menuItem id="rsuite.ditaToEpubService">
					<actionName>rsuite:invokeWebservice</actionName>
					<property name="rsuite:icon" value="epub" />
					<label>EPUB</label>
					<property name="remoteApiName" value="atd:webservice.RunDitaOTWebService" />
					<property name="serviceParams.transtype" value="epub" />
					<property name="serviceParams.openToolkitName" value="v185" />
					<property name="showProgressMeter" value="true" />
					<property name="timeout" value="0" />
					<property name="rsuite:path" value="Create output" />
					<property name="rsuite:group" value="dita" />
				</menuItem>
				<menuItem id="rsuite.ditaToMobi">
					<actionName>rsuite:invokeWebservice</actionName>
					<property name="rsuite:icon" value="amazonMobi" />
					<label>MOBI</label>
					<property name="remoteApiName" value="atd:webservice.RunDitaOTWebService" />
					<property name="serviceParams.transtype" value="kindle" />
					<property name="serviceParams.outputExtension" value="mobi" />
					<property name="serviceParams.openToolkitName" value="v185" />
					<property name="showProgressMeter" value="true" />
					<property name="timeout" value="0" />
					<property name="rsuite:path" value="Create output" />
					<property name="rsuite:group" value="dita" />
				</menuItem>
			</menuItemList>
			<ruleList>
				<rule>include nodeType ca,canode,mo,folder</rule>
			</ruleList>
		</contextMenuRuleSet>

		<contextMenuRuleSet scope="allNodes"
			id="atd:conversion-config-id-action">
			<menuItemList>
				<menuItem id="lmdEdit">
					<actionName>rsuite:editMetaData</actionName>
					<label>Conversion Config ID</label>
					<property name="formId" value="atd:conversion-config-id-form" />
					<property name="rsuite:group" value="atd:metadata-group" />
					<property name="rsuite:path" value="Edit metadata" />
				</menuItem>
			</menuItemList>
			<ruleList>
				<rule>include nodeType ca,canode,folder</rule>
			</ruleList>
		</contextMenuRuleSet>

		<contextMenuRuleSet scope="allNodes"
			id="atd:action.book">
			<menuItemList>
				<menuItem id="lmdEdit">
					<actionName>rsuite:editMetaData</actionName>
					<label>Edit Book metadata</label>
					<property name="formId" value="atd:form.book" />
					<property name="rsuite:group" value="atd:group.book" />
					<property name="rsuite:path" value="Edit metadata" />
				</menuItem>
			</menuItemList>
			<ruleList>
				<rule>include caType book</rule>
			</ruleList>
		</contextMenuRuleSet>

		<contextMenuRuleSet name="astd.contextmenu.exportArticleHTML">
			<menuItemList>
				<menuItem>
					<type>action</type>
					<actionName>rsuite:startWorkflow</actionName>
					<label>ATD: Export Article HTML</label>
					<property name="processDefinitionName" value="ATD Export Article HTML" />
					<property name="parentMoId" value="" />
					<property name="serviceParams.parentMoId" value="" />
				</menuItem>
			</menuItemList>
			<ruleList>
				<rule>exclude nodeType ca,canode,folder</rule>
				<rule>include elementType article</rule>
			</ruleList>
		</contextMenuRuleSet>




		<contextMenuRuleSet name="astd.contextmenu.exportArticlePDF">
			<menuItemList>

				<menuItem>
					<type>action</type>
					<actionName>rsuite:startWorkflow</actionName>
					<label>ASTD: Export Article PDF</label>
					<property name="processDefinitionName" value="ASTD Export Article PDF" />
				</menuItem>
			</menuItemList>
			<ruleList>
				<rule>exclude nodeType ca,canode,folder</rule>
				<rule>include nodeType mononxml</rule>
				<rule>include fileExtension pdf,PDF</rule>
			</ruleList>
		</contextMenuRuleSet>

		<contextMenuRuleSet name="astd.contextmenu.ConvertCanodeToCA">
			<menuItemList>
				<menuItem id="astd:ConvertCanodeToCA">
					<type>action</type>
					<actionName>rsuite:invokeWebservice</actionName>
					<label>Convert old Article CAnode to CA</label>
					<property name="remoteApiName"
						value="atd.ConvertCanodeToCA" />
					<property name="rsuite:icon" value="configuration2" />
				</menuItem>
			</menuItemList>
			<ruleList>
				<rule>include nodeType canode</rule>
			</ruleList>
		</contextMenuRuleSet>



		<contextMenuRuleSet name="astd.contextmenu.genXmlForArticle">
			<menuItemList>
				<menuItem>
					<type>action</type>
					<actionName>rsuite:startWorkflow</actionName>
					<label>ATD: Generate XML for Article</label>
					<property name="processDefinitionName" value="ATD Docx to XML" />
				</menuItem>
			</menuItemList>
			<ruleList>
				<rule>exclude nodeType ca,canode,folder</rule>
				<rule>include nodeType mononxml</rule>
				<rule>include fileExtension docx,DOCX</rule>
			</ruleList>
		</contextMenuRuleSet>

		<contextMenuRuleSet name="astd.main.contextmenuitem.all.users.system.scope"
			scope="system">
			<menuItemList>
				<menuItem id="ama:viewAutomatedTestResults">
					<type>action</type>
					<actionName>rsuite:openWindow</actionName>
					<label>View Automated Test Results</label>
					<property name="rsuite:group" value="productTeamActions" />
					<property name="rsuite:icon" value="valid" />
					<property name="windowOptions.href" value="/docs/project/test-output/html/" />
					<property name="windowOptions.name" value="automatedTestResults" />
					<property name="windowOptions.focus" value="true" />
					<property name="windowOptions.width" value="900" />
					<property name="windowOptions.height" value="500" />
					<property name="windowOptions.left" value="30" />
					<property name="windowOptions.top" value="30" />
					<property name="windowOptions.tab" value="true" />
				</menuItem>
			</menuItemList>
			<ruleList>
			</ruleList>
		</contextMenuRuleSet>

		<contextMenuRuleSet
			name="astd.main.contextmenuitem.rsuiteadministrators.system.scope"
			scope="system">
			<menuItemList>
				<menuItem id="astd:adjustDynamicConfiguration">
					<type>action</type>
					<actionName>rsuite:invokeWebservice</actionName>
					<label>Adjust Dynamic Configuration</label>
					<property name="remoteApiName"
						value="astd.main.webservice.AdjustDynamicConfiguration" />
					<property name="formId" value="ama.main.form.AdjustDynamicConfiguration" />
					<property name="formParams.dynamicConfigurationUsername"
						value="dconfigurator" />
					<property name="formParams.dynamicSettingsPrefixNames"
						value="ama" />
					<property name="rsuite:path" value="Administer" />
					<property name="rsuite:group" value="admin" />
					<property name="rsuite:icon" value="configuration2" />
				</menuItem>
				<menuItem id="astd:killAllWorkflows">
					<type>action</type>
					<actionName>rsuite:invokeWebservice</actionName>
					<label>Kill All Workflows</label>
					<property name="remoteApiName" value="astd.main.webservice.KillAllWorkflows" />
					<property name="rsuite:path" value="Administer" />
					<property name="rsuite:group" value="admin" />
					<property name="showProgressMeter" value="true" />
					<ruleList>
						<rule>include role RSuiteAdministrator</rule>
					</ruleList>
				</menuItem>
				<menuItem id="astd:listAllWorkflows">
					<type>action</type>
					<actionName>rsuite:invokeWebservice</actionName>
					<label>List All Workflows</label>
					<property name="remoteApiName" value="astd.main.webservice.ListAllWorkflows" />
					<property name="rsuite:path" value="Administer" />
					<property name="rsuite:group" value="admin" />
					<property name="showProgressMeter" value="true" />
				</menuItem>
			</menuItemList>
			<ruleList>
				<rule>include role RSuiteAdministrator</rule>
			</ruleList>
		</contextMenuRuleSet>


		<contextMenuRuleSet name="astd.main.contextmenuitem.admin.only.actions"
			scope="allnodes,searchResults,browseTree,clipboard">
			<menuItemList>
				<menuItem id="astd:deleteContainerAndContents" label="Permanently delete..."
					actionName="rsuite:invokeWebservice">
					<property name="formId"
						value="astd.main.form.ConfirmDeleteContainerAndContents" />
					<property name="remoteApiName"
						value="astd.main.webservice.DeleteContainerAndReferencedContent" />
					<property name="showProgressMeter" value="true" />
					<property name="rsuite:icon" value="delete" />
					<property name="rsuite:group" value="rsuite:manage" />
					<property name="rsuite:path" value="Organize" />
				</menuItem>
			</menuItemList>
			<ruleList>
				<rule>include role RSuiteAdministrator</rule>
				<rule>include nodeType ca,canode,folder</rule>
			</ruleList>
		</contextMenuRuleSet>





		<contextMenuRuleSet name="astd.contextmenu.reassignIssue">
			<menuItemList>
				<menuItem>
					<type>action</type>
					<actionName>rsuite:startWorkflow</actionName>
					<label>ATD: Reassign Article</label>
					<property name="formId" value="astdFormArticleRename" />
					<property name="processDefinitionName" value="ATD Reassign Article" />
				</menuItem>
			</menuItemList>
			<ruleList>
				<rule>include nodeType ca,canode</rule>
				<rule>include lmdValue ca-type=article</rule>
			</ruleList>
		</contextMenuRuleSet>





		<contextMenuRuleSet name="astd.contextmenu.genIncxForArticle">
			<menuItemList>
				<menuItem>
					<type>action</type>
					<actionName>rsuite:startWorkflow</actionName>
					<label>ATD: Generate InCopy for Article</label>
					<property name="processDefinitionName" value="ATD Article To InDesign" />
				</menuItem>
			</menuItemList>
			<ruleList>
				<rule>exclude nodeType ca,canode,folder</rule>
				<rule>include elementType article</rule>
			</ruleList>
		</contextMenuRuleSet>






	</extensionProvider>








	<extensionProvider id="rsuite.Search">

		<searchResultsConfiguration>
			<columnList>
				<column name="displayName" label="/search/columns/displayName" />
				<column name="kind" label="/search/columns/kind" />
				<column name="dtModified" label="/search/columns/dtModified"
					sortOptions="asc" />
				<column name="userId" label="/search/columns/userId" />
			</columnList>
		</searchResultsConfiguration>


	</extensionProvider>

	<extensionProvider id="rsuite.Workflow">

		<workflowResultsConfiguration>
			<columnList>
				<column name="currentTask.workflowInstanceId" label="ID" />
				<column name="currentTask.name" label="Task" />
				<column name="currentTask.description" label="Description" />
				<column name="currentTask.startDate" label="Start Date" />
				<column name="currentTask.assigneeUserId" label="Assignee" />
				<!--<column name="currentTask.candidateRoles" label="Assigned Role" /> -->
			</columnList>
		</workflowResultsConfiguration>

		<taskUIConfiguration scope="user,roles">
			<inboxRowsPerPage>20</inboxRowsPerPage>
			<inboxColumnList>
				<column name="currentTask.workflowInstanceId" label="ID" />
				<column name="currentTask.name" label="Task" />
				<column name="currentTask.description" label="Description" />
				<column name="currentTask.startDate" label="Start Date" />
				<column name="currentTask.assigneeUserId" label="Assignee" />
				<!--<column name="currentTask.candidateRoles" label="Assigned Role" /> -->
			</inboxColumnList>
			<inboxFilterList>
				<filter name="name" label="Task Type" />
				<filter name="description" label="Description" />
			</inboxFilterList>
		</taskUIConfiguration>

		<taskUIConfiguration scope="manager">
			<inboxRowsPerPage>20</inboxRowsPerPage>
			<inboxColumnList>
				<column name="currentTask.workflowInstanceId" label="ID" />
				<column name="currentTask.name" label="Task" />
				<column name="currentTask.description" label="Description" />
				<column name="currentTask.startDate" label="Created Date" />
				<column name="currentTask.assigneeUserId" label="Assignee" />
				<!--<column name="currentTask.candidateRoles" label="Assigned Role" /> -->
			</inboxColumnList>
			<inboxFilterList>
				<filter name="currentTask.name" label="Task Type" />
				<filter name="currentTask.description" label="Description" />
				<filter name="currentTask.assigneeUserId" label="Assignee" />
			</inboxFilterList>
		</taskUIConfiguration>

		<!-- Action handlers -->

		<actionHandler label="Clear exception" description="Clear exception"
			type="org.astd.rsuite.workflow.actions.nonleaving.ClearExceptionActionHandler" />

		<actionHandler label="Set Layered Metadata (Non-Leaving)"
			description="Set a piece of layered metadata on the content associated with the workflow"
			type="org.astd.rsuite.workflow.actions.nonleaving.SetLayeredMetadataWorkflowAction" />

		<actionHandler label="Ensure Map for Product"
			description="Creates a DITA Map for a product"
			type="org.astd.rsuite.workflow.actions.leaving.EnsureMapForProductActionHandler" />

		<!-- Local copies of Core / supported-plugin action handlers -->


		<actionHandler label="Local Copy of DitaOtPdfTaskRunningActionHandler"
			description="Local Copy of DitaOtPdfTaskRunningActionHandler"
			type="org.astd.rsuite.workflow.actions.leaving.rsuite5.ProjectDitaOtPdfTaskRunningActionHandler" />
		<actionHandler label="Local Copy of DitaOtXhtmlTaskRunningActionHandler"
			description="Local Copy of DitaOtXhtmlTaskRunningActionHandler"
			type="org.astd.rsuite.workflow.actions.leaving.rsuite5.ProjectDitaOtXhtmlTaskRunningActionHandler" />
		<actionHandler label="Local Copy of Load Non by Alias"
			description="Local Copy of Load Non by Alias"
			type="org.astd.rsuite.workflow.actions.leaving.rsuite5.ProjectLoadNonXmlByAliasHandler" />




		<actionHandler label="Local Copy of Load Non by Alias"
			description="Local Copy of Load Non by Alias"
			type="org.astd.rsuite.workflow.actions.leaving.rsuite5.AstdSetArticlePdfVar" />

		<actionHandler label="Local Copy of Load Non by Alias"

			description="Local Copy of Load Non by Alias"
			type="org.astd.rsuite.workflow.actions.leaving.rsuite5.AstdExportObjectsActionHandler" />

		<actionHandler label="Local Copy of Add Metadata Action Handler"
			description="Local Copy of Load Non by Alias"
			type="org.astd.rsuite.workflow.actions.leaving.rsuite5.ProjectAddLayeredMetadataActionHandler" />
		<actionHandler
			label="Action handler to validate the file name and set parameter in the workflow. "
			description="Validate File Name Structure"
			type="org.astd.rsuite.workflow.actions.leaving.rsuite5.AtdValidateFileNameActionHandler" />
		<actionHandler
			label="Action handler to set a list of MO IDs as current in the workflow. "
			description="Set a list of MO IDs as current in the workflow."
			type="org.astd.rsuite.workflow.actions.leaving.rsuite5.ProjectSetWorkflowMoListFromVariableHandler" />
		<actionHandler label="Action handler to set the classfication on a MO. "
			description="Set the classfication on a MO."
			type="org.astd.rsuite.workflow.actions.leaving.rsuite5.ProjectAtdSetClassificationVarActionHandler" />
		<actionHandler
			label="Action handler to set the browse uri as workflow variable. "
			description="Set the browse uri as workflow variable."
			type="org.astd.rsuite.workflow.actions.leaving.rsuite5.ProjectSetParentBrowseTreeNodeToVariableHandler" />
		<actionHandler
			label="Action handler to set a target variable with a given mo id. "
			description="Set a target variable in the workflow with a given mo id."
			type="org.astd.rsuite.workflow.actions.leaving.rsuite5.ProjectSetVariableFromMoWorkflowListHandler" />
		<actionHandler
			label="Action handler to set some dynamic variables in the workflow. "
			description="set some dynamic variables in the workflow."
			type="org.astd.rsuite.workflow.actions.leaving.rsuite5.ProjectSetDynamicValuesToVariablesActionHandler" />
		<actionHandler
			label="Action handler to set global variables in the workflow. "
			description="set global variables in the workflow."
			type="org.astd.rsuite.workflow.actions.leaving.rsuite5.ProjectSetGlobalVariablesActionHandler" />
		<actionHandler
			label="Action handler to load the source file in the repository. "
			description="Load the docx in the repository."
			type="org.astd.rsuite.workflow.actions.leaving.rsuite5.ProjectLoadDocxActionHandler" />
		<actionHandler label="Action handler to create the CAs structure. "
			description="Create the CAs structure in the repository."
			type="org.astd.rsuite.workflow.actions.leaving.rsuite5.ProjectCreateCAsActionHandler" />
		<actionHandler label="Action handler to create the CTDO CAs structure. "
			description="Create the CTDO CAs structure in the repository."
			type="org.astd.rsuite.workflow.actions.leaving.rsuite5.ProjectCreateCAsCTDOActionHandler" />


		<actionHandler label="Action handler to create the TD CAs structure. "
			description="Create the TD CAs structure in the repository."
			type="org.astd.rsuite.workflow.actions.leaving.rsuite5.ProjectCreateCAsTandDActionHandler" />

		<actionHandler label="Action handler to set the MO classfication."
			description="Set the MO classfication."
			type="org.astd.rsuite.workflow.actions.leaving.rsuite5.ProjectAstdSetMoClassification" />
		<actionHandler label="Action handler to convert xml to Incx."
			description="Convert the MO to Incx."
			type="org.astd.rsuite.workflow.actions.leaving.rsuite5.ProjectAstdXml2IncxActionHandler" />
		<actionHandler label="Action handler to convert xml to ICML"
			description="Convert the MO to ICML."
			type="org.astd.rsuite.workflow.actions.leaving.rsuite5.ProjectAstdXml2IcmlActionHandler" />
		<actionHandler label="Action handler to convert docx to xml."
			description="Convert a docx to xml."
			type="org.astd.rsuite.workflow.actions.leaving.rsuite5.ProjectAstdDocxToXmlActionHandler" />
		<actionHandler label="Action handler to Reassign an article."
			description="Reassign an article."
			type="org.astd.rsuite.workflow.actions.leaving.rsuite5.AstdReassignArticleActionHandler" />

		<actionHandler label="Action handler to Update workflow variables."
			description="Update workflow variables."
			type="org.astd.rsuite.workflow.actions.leaving.rsuite5.UpdateWorkflowVariablesActionHandler" />

		<!-- Load workflow definitions -->
		<workflowDefinitions>


			<file key="ATD CTDO" filename="WebContent/workflow/ATD CTDO.bpmn" />
			<file key="ATD NEW TPM" filename="WebContent/workflow/ATD NEW TPM.bpmn" />
			<file key="ATD Docx to XML" filename="WebContent/workflow/ATD Docx to XML.bpmn" />
			<file key="ATD Reassign Article" filename="WebContent/workflow/ASTD_Reassign_Article.bpmn" />
			<file key="ATD TD Article Word to XML to InDesign"
				filename="WebContent/workflow/ATD Article Word to XML to InDesign.bpmn" />
			<file key="ATD Article To InDesign" filename="WebContent/workflow/ATD Article To InDesign.bpmn" />
			<file key="ASTD Export Article PDF" filename="WebContent/workflow/ASTD Export Article PDF.bpmn" />
			<file key="ATD Export Article HTML" filename="WebContent/workflow/ATD_Export_Article_HTML.bpmn" />

		</workflowDefinitions>

	</extensionProvider>

	<extensionProvider id="rsuite.UI">
		<scriptInclude src="/astd-plugin/js/jquery.initialize.js" />  <!-- From: https://github.com/timpler/jquery.initialize -->
		<scriptInclude src="/astd-plugin/js/cms-ui-actions.js" />
		<scriptInclude src="/astd-plugin/js/cms-ui-overrides.js" />
		<scriptInclude src="/astd-plugin/js/rsuite-openWindow-action.js" />
		<scriptInclude src="/astd-plugin/js/cms-ui-rules.js" />
		<styleInclude src="/astd-plugin/css/config/icons.less" />

		<contentDisplayAdvisor id="astd.main.contentDisplayAdvisor"
			type="org.astd.rsuite.advisors.content.ProjectContentDisplayAdvisor" />

	</extensionProvider>

	<extensionProvider id="rsuite.TransformationProvider">

		<transformationProvider name="astd.main.transformProvider"
			type="org.astd.rsuite.transform.ProjectTransformationProvider" />

	</extensionProvider>

	<extensionProvider id="rsuite.Forms">

		<formDefinition id="astd.main.form.AdjustDynamicConfiguration"
			label="Adjust Dynamic Settings"
			description="Enables RSuiteAdministrators to change certain settings without restarting RSuite."
			handler="com.rsicms.rsuite.dynamicconfiguration.advisors.form.DynamicConfigurationFormHandler">
			<instructions>Please make your changes.</instructions>
			<paramList>
				<param>
					<col>1</col>
					<name>ama.xslt.and.merge.write.all</name>
					<label>Write XSLT and Merge input and output?</label>
					<formControlType>radiobutton</formControlType>
					<optionList>
						<option value="true" label="true" />
						<option value="false" label="false" />
					</optionList>
				</param>
			</paramList>
		</formDefinition>

		<formDefinition id="atd:conversion-config-id-form"
			description="Conversion Config ID Form" label="Conversion Config ID Form">
			<instructions>Set Conversion Config ID value</instructions>
			<column name="metadata">
				<param>
					<name>conversion_config_id</name>
					<label>Conversion Config ID</label>
					<optionList>
						<option value="Book Conversion Configuration" 
								label="Book Conversion Configuration"/>
					</optionList>
					<formControlType>select</formControlType>
					<allowMultiple>false</allowMultiple>
				</param>
			</column>
		</formDefinition>
		
		<formDefinition id="atd:form.book"
			description="Book metadata" label="Book metadata">
			<instructions>Set Book metadata values</instructions>
			<column name="metadata-1">
				<param>
					<name>book_date</name>
					<label>Date:</label>
					<formControlType>date</formControlType>
					<allowMultiple>false</allowMultiple>
				</param>
				<param>
					<name>submitted_by</name>
					<label>Submitted By:</label>
					<formControlType>text</formControlType>
					<allowMultiple>false</allowMultiple>
				</param>
				<param>
					<name>new_or_revision</name>
					<label>New or Revision:</label>
					<optionList>
						<option value="new" label="New"/>
						<option value="revision" label="Revision"/>
					</optionList>
					<formControlType>select</formControlType>
					<allowMultiple>false</allowMultiple>
				</param>
				<param>
					<name>pub_date</name>
					<label>Pub Date:</label>
					<formControlType>date</formControlType>
					<allowMultiple>false</allowMultiple>
				</param>
				<param>
					<name>title</name>
					<label>Title:</label>
					<allowMultiple>false</allowMultiple>
				</param>
				<param>
					<name>subtitle</name>
					<label>Subtitle:</label>
					<formControlType>text</formControlType>
					<allowMultiple>false</allowMultiple>
				</param>
				<param>
					<name>edition</name>
					<label>Edition:</label>
					<formControlType>text</formControlType>
					<allowMultiple>false</allowMultiple>
				</param>
				<param>
					<name>long_description</name>
					<label>Long Description:</label>
					<formControlType>text</formControlType>
					<allowMultiple>false</allowMultiple>
				</param>
				<param>
					<name>short_description</name>
					<label>Short Description:</label>
					<formControlType>text</formControlType>
					<allowMultiple>false</allowMultiple>
				</param>
				<param>
					<name>author_bio</name>
					<label>Author Bio:</label>
					<formControlType>text</formControlType>
					<allowMultiple>false</allowMultiple>
				</param>
			</column>
			<column name="metadata-2">
				<param>
					<name>keywords</name>
					<label>Keywords:</label>
					<formControlType>text</formControlType>
					<allowMultiple>false</allowMultiple>
				</param>
				<param>
					<name>list_price</name>
					<label>List Price:</label>
					<formControlType>text</formControlType>
					<allowMultiple>false</allowMultiple>
				</param>
				<param>
					<name>member_price</name>
					<label>Member Price:</label>
					<formControlType>text</formControlType>
					<allowMultiple>false</allowMultiple>
				</param>
				<param>
					<name>trim_size</name>
					<label>Trim Size:</label>
					<formControlType>text</formControlType>
					<allowMultiple>false</allowMultiple>
				</param>
				<param>
					<name>format</name>
					<label>Format:</label>
					<formControlType>text</formControlType>
					<allowMultiple>false</allowMultiple>
				</param>
				<param>
					<name>page_count</name>
					<label>Page Count:</label>
					<formControlType>text</formControlType>
					<allowMultiple>false</allowMultiple>
				</param>
				<param>
					<name>bisac</name>
					<label>BISAC:</label>
					<formControlType>text</formControlType>
					<allowMultiple>false</allowMultiple>
				</param>
				<param>
					<name>store_category</name>
					<label>Store Category:</label>
					<formControlType>text</formControlType>
					<allowMultiple>false</allowMultiple>
				</param>
				<param>
					<name>audience</name>
					<label>Audience:</label>
					<formControlType>text</formControlType>
					<allowMultiple>false</allowMultiple>
				</param>
				<param>
					<name>table_of_contents</name>
					<label>Table of Contents:</label>
					<formControlType>text</formControlType>
					<allowMultiple>false</allowMultiple>
				</param>
				<param>
					<name>endorsements</name>
					<label>Endorsements:</label>
					<formControlType>text</formControlType>
					<allowMultiple>false</allowMultiple>
				</param>
			</column>
		</formDefinition>

	</extensionProvider>

	<extensionProvider id="rsuite.Forms">
		<formDefinition id="astd.main.form.ConfirmDeleteContainerAndContents"
			label="Confirm Delete Request" description="Enables the user to confirm their intent.">
			<instructions>Please confirm this container(s) and its contents are
				to be permanently deleted,
				even if that content is referenced by
				other containers or checked out by
				other users.
			</instructions>
			<paramList />
		</formDefinition>
	</extensionProvider>



	<extensionProvider id="rsuite.Forms">
		<formDefinition id="astdFormArticleRename" label="Article Reassign"
			description="Reassign article to different issue and/or volume.">
			<instructions>To use the current value for a field, leave it blank.
			</instructions>
			<paramList>
				<param>
					<name>form.pubcode</name>
					<label>Publication Code</label>
					<datatype name="string" />
					<formControlType>select</formControlType>
					<optionList>
						<option value="" label="[Use Current]"></option>
						<option value="TD" label="T+D"></option>
					</optionList>
				</param>
				<param>
					<name>form.type</name>
					<label>Article Type</label>
					<datatype name="string" />
					<formControlType>select</formControlType>
					<optionList>
						<option value="" label="[Use Current]"></option>
						<option value="FE" label="Features"></option>
						<option value="IN" label="Intelligence"></option>
						<option value="RE" label="Re:Search"></option>
						<option value="EW" label="Economy Watch"></option>
						<option value="FM" label="Fundamentals"></option>
						<option value="EN" label="Editor's Note"></option>
						<option value="TR" label="Trends"></option>
						<option value="TK" label="Technology"></option>
						<option value="LV" label="Long View"></option>
						<option value="DV" label="Development"></option>
						<option value="BP" label="Learning Blueprint"></option>
						<option value="SL" label="Solutions"></option>
						<option value="RX" label="Workplace Rx"></option>
						<option value="BK" label="Books"></option>
						<option value="BX" label="Mini-book Review"></option>
						<option value="CP" label="Career Path"></option>
						<option value="SS" label="Special Section"></option>
						<option value="IF" label="In Focus"></option>
						<option value="CR" label="Career GPS"></option>
						<option value="SX" label="Success With Less"></option>
						<option value="QT" label="Quick Tips"></option>
						<option value="OW" label="One to Watch"></option>
						<option value="WE" label="Web Exclusive"></option>



					</optionList>
				</param>
				<param>
					<name>form.volume</name>
					<label>Volume</label>
				</param>
				<param>
					<name>form.issue</name>
					<label>Issue</label>
				</param>
				<param>
					<name>form.sequence</name>
					<label>Sequence</label>
				</param>
				<param>
					<name>form.author</name>
					<label>Author</label>
				</param>
			</paramList>
		</formDefinition>
	</extensionProvider>





	<extensionProvider id="rsuite.Reporting">


	</extensionProvider>

</rsuite-plugin>